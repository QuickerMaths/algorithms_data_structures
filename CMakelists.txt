cmake_minimum_required(VERSION 3.10)
project(Algorithms)

set(ALGORITHMS dec2bin bin2dec fibonacci bubble_sort selection_sort insertion_sort quick_sort)

set(SELECTED_ALGO "" CACHE STRING "Select algorithm to build (${ALGORITHMS})")

if(NOT SELECTED_ALGO)
    message(FATAL_ERROR "You must specify a SELECTED_ALGO. Available options: ${ALGORITHMS}")
endif()

if(NOT SELECTED_ALGO IN_LIST ALGORITHMS)
    message(FATAL_ERROR "Invalid algorithm selected. Choose from: ${ALGORITHMS}")
endif()

file(GLOB SOURCES algorithms/${SELECTED_ALGO}/*.cpp)

if(NOT SOURCES)
    message(FATAL_ERROR "No source files found for ${SELECTED_ALGO}. Check if the folder and .cpp files exist.")
endif()

add_executable(${SELECTED_ALGO} algorithms/${SELECTED_ALGO}/${SELECTED_ALGO}.cpp)

